/*!
 * Videojs-progress v0.1.0
 * 
 *
 * Copyright 2014, 2014 Ourairyu, http://ourai.ws/
 *
 * Date: 2014-09-05
 */

(function(){"use strict";var a,b,c,d;a=jQuery,c=function(a,b){return""+(b?".":"")+"vjs-"+a},b=function(){function b(a){this.player=a,this.timepoint={initialized:!1,delimiter:"-vjs-timepoint-",data:[]}}return b.prototype.timepoints=function(b){var d,e,f,g,h,i,j,k,l;return h=this.timepoint,h.initialized||!a.isArray(b)?!1:(i=this,j=this.player,l=a(j.el()),g=j.duration(),f=h.delimiter,k=h.data,d=a("<div />",{"class":c("progress-timepoints")}),e=function(b,d){var e;return e=a("<div />",{id:""+l.attr("id")+f+(k.length+1),"class":c("progress-timepoint")}),k.push({sec:b,text:d}),e.css("left",""+b/g*100+"%")},a.each(b,function(a,b){var c;return 0<=(c=Number(b.time))&&g>=c?d.append(e(Math.round(b.time),b.text)):void 0}),j.controlBar.progressControl.el().appendChild(d.get(0)),a(c("progress-timepoint",!0)).on("click",function(){return j.currentTime(i.timepointData(this.id).sec),!1}),h.initialized=!0,!0)},b.prototype.timepointData=function(a){return this.timepoint.data[a.split(this.timepoint.delimiter)[1]-1]},b.prototype.tooltip=function(){var b,d,e,f,g,h;e=this.player,f=e.controlBar.progressControl,b=e.duration(),g=a("<div />",{"class":c("progress-tooltip"),text:"0:00"}),h=function(a){return 10>a&&(a="0"+a),a},d=function(a){var b;return a=Math.round(a),b=60,a=b>a?"00:"+h(a):""+h(Math.floor(a/b))+":"+h(a%b)},f.el().appendChild(g.get(0)),a(f.el()).on({mousemove:function(e){return function(h){var i,j,k,l;return i=a(f.el()),j=h.clientX-i.offset().left,k=h.target,l=d(j/i.width()*b),a(k).is(c("progress-timepoint",!0))&&(l+="<span>"+e.timepointData(k.id).text+"</span>"),g.html(l),g.show(),g.css("left",j-g.outerWidth()/2)}}(this),mouseleave:function(){return g.hide()}})},b}(),d=function(a){var c;c=new b(this),this.on("loadedmetadata",function(){return c.timepoints(null!=a?a.timepoints:void 0),c.tooltip()})},videojs.plugin("progress",d)}).call(this);
//# sourceMappingURL=videojs-progress.min.map